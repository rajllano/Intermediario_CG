<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.machineFile org.eventb.core.configuration="org.eventb.core.fwd" org.eventb.texttools.text_lastmodified="1527792189004" org.eventb.texttools.text_representation="machine intermediarioCGMaquina sees intermediarioCGContexto&#10;variables&#10;&#9;dominioUNIDAD&#9;&#9;&#9;// CONJUNTO PARA MANEJAR RELACIÓN DOMINIO Y UNIDAD&#10;&#9;registroDominioRecurso  // CONJUNTO PARA MANEJAR RELACIÓN DOMINIO Y TIPO DE RECURSO&#10;&#9;registroRecurso&#9;&#9;// CONJUNTO PARA MANEJAR RELACIÓN DOMINIO Y TIPO DE RECURSO&#10;&#9;usuarioUNIDAD&#9;&#9;&#9;// CONJUNTO PARA MANEJAR RELACIÓN USUARIO Y UNIDAD&#10;&#9;tareaUSUARIO&#9;&#9;&#9;// CONJUNTO PARA MANEJAR RELACIÓN TAREA Y USUARIO&#10;&#9;tareaESTADO&#9;&#9;&#9;&#9;// CONJUNTO PARA MANEJAR RELACIÓN TAREA Y ESTADO&#10;&#9;//tareaUNIDAD&#9;&#9;&#9;&#9;// CONJUNTO PARA MANEJAR RELACIÓN TAREA Y UNIDAD&#10;&#9;unidadTIPOUNIDAD&#9;&#9;// CONJUNTO PARA MANEJAR RELACIÓN UNIDAD Y TIPO DE UNIDAD&#10;    idTAREA                 // CONJUNTO PARA MANEJAR EL IDENTIFICADOR DE LAS TEAREAS&#10;    idTAREAUNIDAD           // CONJUNTO PARA MANEJAR EL IDENTIFICADOR DE LA TAREAS EN UNA UNIDAD VIRTUAL (VO)&#10;    idTAREADOMINIO          // CONJUNTO PARA MANEJAR EL IDENTIFICADOR DE LAS TAREAS EN UN DOMINIO (AD)&#10;invariants&#10;&#9;@inv1 dominioUNIDAD ∈ DOMINIOS ↠ UNIDADES&#10;&#9;@inv2 usuarioUNIDAD ∈  USUARIOS ⇸ UNIDADES&#10;&#9;@inv3 tareaESTADO ∈  TAREAS ⤔ ESTADO_TAREA&#10;&#9;@inv5 registroDominioRecurso ∈ REGISTRO  ⇸ DOMINIOS&#10;&#9;@inv6 registroRecurso ∈ dom(registroDominioRecurso) → RECURSO&#10;&#9;@inv7 tareaUSUARIO ∈ TAREAS ⤔ USUARIOS&#10;&#9;@inv8 unidadTIPOUNIDAD ∈  UNIDADES ⤔ TIPO_UNIDAD&#10;&#9;@inv9 dom(tareaUSUARIO) = dom(tareaESTADO)&#10;&#9;@inv10 ∀x,y· (x ∈ dom(tareaESTADO) ∧ y ∈ dom(tareaUSUARIO) ∧&#10;               tareaESTADO(x) = tareaESTADO(y) ∧ tareaUSUARIO(x) = tareaUSUARIO(y)) ⇒ x = y&#10;&#9;@inv11 idTAREA ∈ IDENTIFICADOR  ⇸ TAREAS&#10;&#9;@inv12 idTAREAUNIDAD ∈ dom(idTAREA) → UNIDADES&#10;&#9;@inv13 idTAREADOMINIO ∈ dom(idTAREA) → DOMINIOS&#10;events&#10;&#10;&#9;event INITIALISATION&#10;  &#9;then&#10;&#9;&#9;@act1 dominioUNIDAD ≔  ∅&#9;&#9;&#9;&#9;//&#9;SE INICIALIZA EL CONJUNTO dominioUNIDAD EN NULO&#10;&#9;&#9;@act2 registroDominioRecurso ≔ ∅&#9;&#9;&#9;//&#9;SE INICIALIZA EL CONJUNTO dominioTIPORECURSO EN NULO&#10;&#9;&#9;@act3 usuarioUNIDAD ≔ ∅ &#9;&#9;&#9;&#9;// SE INICIALIZA EL CONJUNTO usuarioUNIDAD EN NULO&#10;&#9;&#9;@act4 tareaUSUARIO ≔ ∅&#9;&#9;&#9;&#9;//&#9;SE INICIALIZA EL CONJUNTO tareaUSUARIO EN NULO&#10;&#9;&#9;@act5 tareaESTADO ≔ ∅ &#9;&#9;&#9;&#9;//&#9;SE INICIALIZA EL CONJUNTO tareaESTADO EN NULO&#10;&#9;&#9;//@act6 tareaUNIDAD ≔ ∅ &#9;&#9;&#9;&#9;//&#9;SE INICIALIZA EL CONJUNTO tareaUNIDAD EN NULO&#10;&#9;&#9;@act7 unidadTIPOUNIDAD ≔ ∅&#9;&#9;&#9;//&#9;SE INICIALIZA EL CONJUNTO unidadTIPOUNIDAD EN NULO&#10;&#9;&#9;@act8 registroRecurso ≔ ∅&#9;&#9;//&#9;SE INICIALIZA EL CONJUNTO registroTipoRecurso EN NULO&#10;&#9;&#9;@act9 idTAREA ≔ ∅&#9;&#9;&#9;//&#9;SE INICIALIZA EL CONJUNTO idTAREA EN NULO&#10;&#9;&#9;@act10 idTAREAUNIDAD ≔ ∅&#9;&#9;//&#9;SE INICIALIZA EL CONJUNTO idTAREAUNIDAD EN NULO&#10;&#9;&#9;@act11 idTAREADOMINIO ≔ ∅&#9;&#9;//&#9;SE INICIALIZA EL CONJUNTO idTAREADOMINIO EN NULO&#10;&#10;  &#9;end&#10;&#10;&#9;event 01_ADICCIONAR_RECURSO_DOMINIO&#10;&#9;any&#10;&#9;&#9;registro dominio recurso&#10;&#9;when&#10;&#9;    @grd1 registro ∈ REGISTRO ∖ dom(registroDominioRecurso)&#10;&#9;  &#9;@grd2 dominio ∈  DOMINIOS&#10;&#9;  &#9;@grd3 recurso ∈  RECURSO&#10;&#9;then&#10;      @act1 registroDominioRecurso ≔ registroDominioRecurso ∪ {registro ↦ dominio}&#10;      @act2 registroRecurso ≔ registroRecurso ∪ {registro ↦ recurso}&#10;&#9;end&#10;&#10;&#9;event 02_RETIRAR_RECURSO_DOMINIO&#10;&#9;any registro&#10;&#9;when&#10;&#9;  @grd1 registro ∈ dom(registroDominioRecurso)&#10;&#9;  //debo validar que al retirar un recuros de un dominio, el dominio no tenga tareas asignadas&#10;&#9;  // asi como lo escribi no funciona (linea siguiente)&#10;&#9;  //@grd2 ran(registroDominioRecurso)(registro) ∉ ran(idTAREADOMINIO)&#10;&#9;then&#10;&#9;  @act1 registroDominioRecurso ≔ {registro} ⩤ registroDominioRecurso&#10;&#9;  @act2 registroRecurso ≔ {registro} ⩤ registroRecurso&#10;&#9;end&#10;&#10;&#9;event 01_ADICCIONAR_DOMINIO_UNIDAD&#10;&#9;any&#10;&#9;&#9;dominio unidad&#10;&#9;when&#10;&#9;  &#9;@grd1 dominio ∈  DOMINIOS&#10;&#9;  &#9;@grd2 unidad ∈  UNIDADES&#10;&#9;  &#9;//@grd3 dominio ↦ unidad ∉ dominioUNIDAD&#10;&#9;  &#9;@grd4 dominio ∉ dom(dominioUNIDAD)&#10;&#9;then&#10;&#9;    @act1 dominioUNIDAD ≔ dominioUNIDAD ∪ {dominio ↦ unidad}&#10;&#9;end&#10;end" version="5">
<org.eventb.core.seesContext name="_wiNiQGNcEeiuqPrLjKqHeg" org.eventb.core.target="intermediarioCGContexto"/>
<org.eventb.core.event name="'" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="INITIALISATION">
<org.eventb.core.action name="_VqLZwGNlEeiuqPrLjKqHeg" org.eventb.core.assignment="dominioUNIDAD ≔  ∅" org.eventb.core.comment="&#9;SE INICIALIZA EL CONJUNTO dominioUNIDAD EN NULO" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_VqMA0GNlEeiuqPrLjKqHeg" org.eventb.core.assignment="registroDominioRecurso ≔ ∅" org.eventb.core.comment="&#9;SE INICIALIZA EL CONJUNTO dominioTIPORECURSO EN NULO" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_VqMA0WNlEeiuqPrLjKqHeg" org.eventb.core.assignment="usuarioUNIDAD ≔ ∅" org.eventb.core.comment="SE INICIALIZA EL CONJUNTO usuarioUNIDAD EN NULO" org.eventb.core.label="act3"/>
<org.eventb.core.action name="_VqMA0mNlEeiuqPrLjKqHeg" org.eventb.core.assignment="tareaUSUARIO ≔ ∅" org.eventb.core.comment="&#9;SE INICIALIZA EL CONJUNTO tareaUSUARIO EN NULO" org.eventb.core.label="act4"/>
<org.eventb.core.action name="_VqMn4GNlEeiuqPrLjKqHeg" org.eventb.core.assignment="tareaESTADO ≔ ∅" org.eventb.core.comment="&#9;SE INICIALIZA EL CONJUNTO tareaESTADO EN NULO&#10;@act6 tareaUNIDAD ≔ ∅ &#9;&#9;&#9;&#9;//&#9;SE INICIALIZA EL CONJUNTO tareaUNIDAD EN NULO" org.eventb.core.label="act5"/>
<org.eventb.core.action name="_VqMn4WNlEeiuqPrLjKqHeg" org.eventb.core.assignment="unidadTIPOUNIDAD ≔ ∅" org.eventb.core.comment="&#9;SE INICIALIZA EL CONJUNTO unidadTIPOUNIDAD EN NULO" org.eventb.core.label="act7"/>
<org.eventb.core.action name="_kfDTkGN2EeiuqPrLjKqHeg" org.eventb.core.assignment="registroRecurso ≔ ∅" org.eventb.core.comment="&#9;SE INICIALIZA EL CONJUNTO registroTipoRecurso EN NULO" org.eventb.core.label="act8"/>
<org.eventb.core.action name="_oIEOkWOrEei3zqqGl7lwrQ" org.eventb.core.assignment="idTAREA ≔ ∅" org.eventb.core.comment="&#9;SE INICIALIZA EL CONJUNTO idTAREA EN NULO" org.eventb.core.label="act9"/>
<org.eventb.core.action name="_q4t8oWN8EeiuqPrLjKqHeg" org.eventb.core.assignment="idTAREAUNIDAD ≔ ∅" org.eventb.core.comment="&#9;SE INICIALIZA EL CONJUNTO idTAREAUNIDAD EN NULO" org.eventb.core.label="act10"/>
<org.eventb.core.action name="_84-cQGOsEei3zqqGl7lwrQ" org.eventb.core.assignment="idTAREADOMINIO ≔ ∅" org.eventb.core.comment="&#9;SE INICIALIZA EL CONJUNTO idTAREADOMINIO EN NULO" org.eventb.core.label="act11"/>
</org.eventb.core.event>
<org.eventb.core.variable name="_8kEDMGNfEeiuqPrLjKqHeg" org.eventb.core.comment="CONJUNTO PARA MANEJAR RELACIÓN DOMINIO Y UNIDAD" org.eventb.core.identifier="dominioUNIDAD"/>
<org.eventb.core.variable name="_8kEDMWNfEeiuqPrLjKqHeg" org.eventb.core.comment="CONJUNTO PARA MANEJAR RELACIÓN DOMINIO Y TIPO DE RECURSO" org.eventb.core.identifier="registroDominioRecurso"/>
<org.eventb.core.variable name="_8kEDMmNfEeiuqPrLjKqHeg" org.eventb.core.comment="CONJUNTO PARA MANEJAR RELACIÓN DOMINIO Y TIPO DE RECURSO" org.eventb.core.identifier="registroRecurso"/>
<org.eventb.core.variable name="_8kEqQGNfEeiuqPrLjKqHeg" org.eventb.core.comment="CONJUNTO PARA MANEJAR RELACIÓN USUARIO Y UNIDAD" org.eventb.core.identifier="usuarioUNIDAD"/>
<org.eventb.core.variable name="_8kEqQWNfEeiuqPrLjKqHeg" org.eventb.core.comment="CONJUNTO PARA MANEJAR RELACIÓN TAREA Y USUARIO" org.eventb.core.identifier="tareaUSUARIO"/>
<org.eventb.core.invariant name="_LLC6sWNgEeiuqPrLjKqHeg" org.eventb.core.label="inv1" org.eventb.core.predicate="dominioUNIDAD ∈ DOMINIOS ↠ UNIDADES"/>
<org.eventb.core.invariant name="_LLDhwGNgEeiuqPrLjKqHeg" org.eventb.core.label="inv2" org.eventb.core.predicate="usuarioUNIDAD ∈  USUARIOS ⇸ UNIDADES"/>
<org.eventb.core.invariant name="_LLDhwWNgEeiuqPrLjKqHeg" org.eventb.core.label="inv3" org.eventb.core.predicate="tareaESTADO ∈  TAREAS ⤔ ESTADO_TAREA"/>
<org.eventb.core.invariant name="_LLEI0GNgEeiuqPrLjKqHeg" org.eventb.core.label="inv5" org.eventb.core.predicate="registroDominioRecurso ∈ REGISTRO  ⇸ DOMINIOS"/>
<org.eventb.core.invariant name="_LLEI0WNgEeiuqPrLjKqHeg" org.eventb.core.label="inv6" org.eventb.core.predicate="registroRecurso ∈ dom(registroDominioRecurso) → RECURSO"/>
<org.eventb.core.invariant name="_LLEv4GNgEeiuqPrLjKqHeg" org.eventb.core.label="inv7" org.eventb.core.predicate="tareaUSUARIO ∈ TAREAS ⤔ USUARIOS"/>
<org.eventb.core.variable name="_H0bHsGNhEeiuqPrLjKqHeg" org.eventb.core.comment="CONJUNTO PARA MANEJAR RELACIÓN TAREA Y ESTADO&#10;tareaUNIDAD&#9;&#9;&#9;&#9;// CONJUNTO PARA MANEJAR RELACIÓN TAREA Y UNIDAD" org.eventb.core.identifier="tareaESTADO"/>
<org.eventb.core.invariant name="_Fv8-cGN1EeiuqPrLjKqHeg" org.eventb.core.label="inv8" org.eventb.core.predicate="unidadTIPOUNIDAD ∈  UNIDADES ⤔ TIPO_UNIDAD"/>
<org.eventb.core.event name="_kfCsgGN2EeiuqPrLjKqHeg" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="01_ADICCIONAR_RECURSO_DOMINIO">
<org.eventb.core.parameter name="_kfCsgWN2EeiuqPrLjKqHeg" org.eventb.core.identifier="registro"/>
<org.eventb.core.parameter name="_r1y3oGN2EeiuqPrLjKqHeg" org.eventb.core.identifier="dominio"/>
<org.eventb.core.guard name="_kfCsgmN2EeiuqPrLjKqHeg" org.eventb.core.label="grd1" org.eventb.core.predicate="registro ∈ REGISTRO ∖ dom(registroDominioRecurso)"/>
<org.eventb.core.guard name="_ve_L4GN2EeiuqPrLjKqHeg" org.eventb.core.label="grd2" org.eventb.core.predicate="dominio ∈  DOMINIOS"/>
<org.eventb.core.parameter name="_q4tVkWN8EeiuqPrLjKqHeg" org.eventb.core.identifier="recurso"/>
<org.eventb.core.guard name="_q4tVkmN8EeiuqPrLjKqHeg" org.eventb.core.label="grd3" org.eventb.core.predicate="recurso ∈  RECURSO"/>
<org.eventb.core.action name="_oIKVMWOrEei3zqqGl7lwrQ" org.eventb.core.assignment="registroDominioRecurso ≔ registroDominioRecurso ∪ {registro ↦ dominio}" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_PIhjoGOyEei3zqqGl7lwrQ" org.eventb.core.assignment="registroRecurso ≔ registroRecurso ∪ {registro ↦ recurso}" org.eventb.core.label="act2"/>
</org.eventb.core.event>
<org.eventb.core.event name="_q4tVkGN8EeiuqPrLjKqHeg" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="02_RETIRAR_RECURSO_DOMINIO">
<org.eventb.core.guard name="_urywMGN9EeiuqPrLjKqHeg" org.eventb.core.comment="debo validar que al retirar un recuros de un dominio, el dominio no tenga tareas asignadas&#10;asi como lo escribi no funciona (linea siguiente)&#10;@grd2 ran(registroDominioRecurso)(registro) ∉ ran(idTAREADOMINIO)" org.eventb.core.label="grd1" org.eventb.core.predicate="registro ∈ dom(registroDominioRecurso)"/>
<org.eventb.core.parameter name="_oIEOkGOrEei3zqqGl7lwrQ" org.eventb.core.identifier="registro"/>
<org.eventb.core.action name="_RXLVoGQ4Eei3zqqGl7lwrQ" org.eventb.core.assignment="registroDominioRecurso ≔ {registro} ⩤ registroDominioRecurso" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_RXLVoWQ4Eei3zqqGl7lwrQ" org.eventb.core.assignment="registroRecurso ≔ {registro} ⩤ registroRecurso" org.eventb.core.label="act2"/>
</org.eventb.core.event>
<org.eventb.core.invariant name="_Ji6HUGOkEei3zqqGl7lwrQ" org.eventb.core.label="inv9" org.eventb.core.predicate="dom(tareaUSUARIO) = dom(tareaESTADO)"/>
<org.eventb.core.variable name="_QVgfsGOoEei3zqqGl7lwrQ" org.eventb.core.comment="CONJUNTO PARA MANEJAR RELACIÓN UNIDAD Y TIPO DE UNIDAD" org.eventb.core.identifier="unidadTIPOUNIDAD"/>
<org.eventb.core.invariant name="_QVgfsWOoEei3zqqGl7lwrQ" org.eventb.core.label="inv10" org.eventb.core.predicate="∀x,y· (x ∈ dom(tareaESTADO) ∧ y ∈ dom(tareaUSUARIO) ∧&#10;               tareaESTADO(x) = tareaESTADO(y) ∧ tareaUSUARIO(x) = tareaUSUARIO(y)) ⇒ x = y"/>
<org.eventb.core.event name="_oIJHEGOrEei3zqqGl7lwrQ" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="01_ADICCIONAR_DOMINIO_UNIDAD">
<org.eventb.core.parameter name="_84xA4GOsEei3zqqGl7lwrQ" org.eventb.core.identifier="dominio"/>
<org.eventb.core.parameter name="_oIJuIGOrEei3zqqGl7lwrQ" org.eventb.core.identifier="unidad"/>
<org.eventb.core.guard name="_rgLFkGN5EeiuqPrLjKqHeg" org.eventb.core.label="grd1" org.eventb.core.predicate="dominio ∈  DOMINIOS"/>
<org.eventb.core.guard name="_oIKVMGOrEei3zqqGl7lwrQ" org.eventb.core.comment="@grd3 dominio ↦ unidad ∉ dominioUNIDAD" org.eventb.core.label="grd2" org.eventb.core.predicate="unidad ∈  UNIDADES"/>
<org.eventb.core.guard name="_84xn8GOsEei3zqqGl7lwrQ" org.eventb.core.label="grd4" org.eventb.core.predicate="dominio ∉ dom(dominioUNIDAD)"/>
<org.eventb.core.action name="_RXMjwGQ4Eei3zqqGl7lwrQ" org.eventb.core.assignment="dominioUNIDAD ≔ dominioUNIDAD ∪ {dominio ↦ unidad}" org.eventb.core.label="act1"/>
</org.eventb.core.event>
<org.eventb.core.variable name="_drMhcGQ3Eei3zqqGl7lwrQ" org.eventb.core.comment="CONJUNTO PARA MANEJAR EL IDENTIFICADOR DE LAS TEAREAS" org.eventb.core.identifier="idTAREA"/>
<org.eventb.core.variable name="_drNIgGQ3Eei3zqqGl7lwrQ" org.eventb.core.comment="CONJUNTO PARA MANEJAR EL IDENTIFICADOR DE LA TAREAS EN UNA UNIDAD VIRTUAL (VO)" org.eventb.core.identifier="idTAREAUNIDAD"/>
<org.eventb.core.variable name="_drNIgWQ3Eei3zqqGl7lwrQ" org.eventb.core.comment="CONJUNTO PARA MANEJAR EL IDENTIFICADOR DE LAS TAREAS EN UN DOMINIO (AD)" org.eventb.core.identifier="idTAREADOMINIO"/>
<org.eventb.core.invariant name="_4dKIEGQ3Eei3zqqGl7lwrQ" org.eventb.core.label="inv11" org.eventb.core.predicate="idTAREA ∈ IDENTIFICADOR  ⇸ TAREAS"/>
<org.eventb.core.invariant name="_4dKIEWQ3Eei3zqqGl7lwrQ" org.eventb.core.label="inv12" org.eventb.core.predicate="idTAREAUNIDAD ∈ dom(idTAREA) → UNIDADES"/>
<org.eventb.core.invariant name="_4dKIEmQ3Eei3zqqGl7lwrQ" org.eventb.core.label="inv13" org.eventb.core.predicate="idTAREADOMINIO ∈ dom(idTAREA) → DOMINIOS"/>
</org.eventb.core.machineFile>
